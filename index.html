<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yutong Lyu | Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Source+Serif+Pro:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        :root {
            --primary: #6a898f;
            --accent: #a0b3b0;
            --highlight: #d7b9a3;
            --bg: #f3f1ee;
            --white: #ffffff;
            --gray-light: #dcdad5;
            --gray-dark: #6b6b6b;
            --radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: var(--primary);
            line-height: 1.6;
            scroll-behavior: smooth;
        }

        header {
            background: linear-gradient(120deg, var(--primary), var(--accent));
            color: var(--white);
            padding: 1rem 2rem;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        header h1 {
            font-size: 2rem;
        }

        nav {
            margin-top: 0.5rem;
        }

        nav a {
            color: var(--white);
            margin: 0 1rem;
            text-decoration: none;
            font-weight: 600;
        }

        nav a:hover {
            text-decoration: underline;
        }

        .container {
            display: flex;
            flex-direction: row;
            max-width: 1100px;
            margin: 1rem auto;
            gap: 1.5rem;
            padding: 0 1.5rem;
        }

        aside {
            flex: 1;
            background-color: var(--white);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: 0 0 10px rgba(0,0,0,0.03);
            text-align: center;
            position: sticky;
            top: 88px;
            height: fit-content;
        }

        .profile-image {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: url('profile1.jpeg') center/cover no-repeat;
            display: inline-block;
            margin-bottom: 1rem;
        }

        .profile-name {
            font-family: 'Source Serif Pro', serif;
            font-size: 1.5rem;
            margin-bottom: 0.3rem;
        }

        .profile-title,
        .profile-affiliation,
        .profile-contact {
            font-size: 0.9rem;
            color: var(--gray-dark);
        }

        .profile-contact a, #contact a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .profile-contact a:hover, #contact a:hover {
            color: var(--highlight);
            text-decoration: underline;
        }

        .social-links {
            margin-bottom: 1.5rem;
        }

        .social-links a {
            margin: 0 0.5rem;
            text-decoration: none;
            font-size: 1.2rem;
            color: var(--accent);
        }

        .aside-gallery-container h3 {
            font-size: 1rem;
            color: var(--primary);
            margin-bottom: 0.75rem;
            font-family: 'Source Serif Pro', serif;
        }

        .aside-gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
        }

        .aside-gallery-item {
            width: 60px;
            height: 60px;
            border-radius: var(--radius);
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .aside-gallery-item:hover {
            transform: scale(1.1);
        }

        main {
            flex: 3;
        }

        .section {
            background: var(--white);
            padding: 1.5rem;
            border-radius: var(--radius);
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            margin-bottom: 1.5rem;
            transition: transform 0.3s ease;
        }

        .section:hover {
            transform: translateY(-3px);
        }

        .section h2 {
            font-family: 'Source Serif Pro', serif;
            font-size: 1.6rem;
            border-bottom: 2px solid var(--highlight);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
        }

        .section p,
        .section li {
            margin-bottom: 0.75rem;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }

        .gallery-item {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: var(--radius);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .gallery-item:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .tech-tags {
            margin-top: 1rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .tech-tag {
            background-color: var(--highlight);
            padding: 0.3rem 0.6rem;
            border-radius: 15px;
            font-size: 0.8rem;
            color: white;
        }

        /* AI Chatbot Styles */
        .chat-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border: 3px solid var(--white);
            border-radius: 50%;
            color: var(--white);
            font-size: 32px;
            cursor: pointer;
            box-shadow: 0 8px 30px rgba(106, 137, 143, 0.4);
            transition: all 0.3s ease;
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s infinite;
        }

        .chat-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 40px rgba(106, 137, 143, 0.6);
            animation: none;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 8px 30px rgba(106, 137, 143, 0.4);
            }
            50% {
                box-shadow: 0 8px 30px rgba(106, 137, 143, 0.7), 0 0 0 10px rgba(106, 137, 143, 0.1);
            }
            100% {
                box-shadow: 0 8px 30px rgba(106, 137, 143, 0.4);
            }
        }

        .chat-container {
            position: fixed;
            bottom: 120px;
            right: 30px;
            width: 420px;
            height: 550px;
            background: var(--white);
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.2);
            border: 2px solid var(--gray-light);
            display: none;
            flex-direction: column;
            z-index: 9998;
            overflow: hidden;
        }

        .chat-container.active {
            display: flex;
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .chat-header {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: var(--white);
            padding: 1.5rem;
            text-align: center;
            position: relative;
            border-bottom: 3px solid var(--highlight);
        }

        .chat-header h3 {
            font-family: 'Source Serif Pro', serif;
            margin: 0;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .chat-header p {
            margin: 0.3rem 0 0 0;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .chat-close {
            position: absolute;
            top: 50%;
            right: 1rem;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.3s ease;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-close:hover {
            opacity: 1;
        }

        .chat-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            background-color: var(--bg);
        }

        .message {
            margin-bottom: 1rem;
            max-width: 80%;
            word-wrap: break-word;
        }

        .message.user {
            margin-left: auto;
            text-align: right;
        }

        .message.bot {
            margin-right: auto;
        }

        .message-content {
            padding: 0.7rem 1rem;
            border-radius: 18px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: var(--white);
        }

        .message.bot .message-content {
            background: var(--white);
            color: var(--primary);
            border: 1px solid var(--gray-light);
        }

        .chat-input {
            display: flex;
            padding: 1rem;
            background: var(--white);
            border-top: 1px solid var(--gray-light);
            gap: 0.5rem;
        }

        .chat-input input {
            flex: 1;
            padding: 0.7rem;
            border: 1px solid var(--gray-light);
            border-radius: 20px;
            outline: none;
            font-size: 0.9rem;
            font-family: 'Inter', sans-serif;
        }

        .chat-input input:focus {
            border-color: var(--accent);
        }

        .chat-input button {
            padding: 0.7rem 1rem;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: var(--white);
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .chat-input button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(106, 137, 143, 0.3);
        }

        .chat-input button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .typing-indicator {
            display: none;
            padding: 0.5rem 1rem;
            color: var(--gray-dark);
            font-style: italic;
            font-size: 0.8rem;
        }

        .typing-indicator.active {
            display: block;
        }

        footer {
            text-align: center;
            padding: 1rem;
            background: var(--primary);
            color: var(--white);
            font-size: 0.8rem;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            aside {
                position: static;
            }

            .chat-toggle {
                width: 70px;
                height: 70px;
                bottom: 20px;
                right: 20px;
                font-size: 28px;
            }

            .chat-container {
                width: calc(100vw - 40px);
                right: 20px;
                left: 20px;
                height: 500px;
                bottom: 100px;
            }
        }
    </style>
</head>
<body>
<header data-aos="fade-down">
    <h1>Yutong Lyu</h1>
    <nav>
        <a href="#bio">Bio</a>
        <a href="#projects">Projects</a>
        <a href="#experience">Experience</a>
        <a href="#gallery">Gallery</a>
        <a href="#contact">Contact</a>
    </nav>
</header>

<div class="container">
    <aside data-aos="fade-right">
        <div class="profile-image"></div>
        <div class="profile-name">Yutong Lyu</div>
        <div class="profile-title">Data Science Student</div>
        <div class="profile-affiliation">B.S. Data Science @ LSA</div>
        <div class="profile-affiliation">University of Michigan</div>
        <div class="profile-contact">
            Ann Arbor, MI | Shenzhen, China<br>
            Phone: (+86) 13510853995<br>
            <a href="mailto:yutonglvv@gmail.com">yutonglvv@gmail.com</a><br>
            <a href="mailto:yutonglv@umich.edu">yutonglv@umich.edu</a>
        </div>
        <div class="social-links">
            <a href="https://github.com/lytreallynb">🔗</a>
            <a href="#">📸</a>
            <a href="#">🎓</a>
            <a href="#">🏸</a>
        </div>

        <div class="aside-gallery-container">
            <h3>My Favorites</h3>
            <div class="aside-gallery">
                <img src="profile3.jpeg" alt="Favorite Photo 1" class="aside-gallery-item">
                <img src="japan1.jpeg" alt="Favorite Photo 2" class="aside-gallery-item">
                <img src="japan2.jpeg" alt="Favorite Photo 3" class="aside-gallery-item">
                <img src="nepal1.jpeg" alt="Favorite Photo 4" class="aside-gallery-item">
                <img src="uk1.jpeg" alt="Favorite Photo 5" class="aside-gallery-item">
                <img src="shenzhen1.jpeg" alt="Favorite Photo 6" class="aside-gallery-item">
            </div>
        </div>
    </aside>

    <main>
        <section id="bio" class="section" data-aos="fade-up">
            <h2>Short Bio</h2>
            <p>I'm an undergraduate at the University of Michigan majoring in Data Science, expected to graduate in December 2026. I'm passionate about AI, machine learning, natural language processing, and software engineering. My interests include photography, music, badminton, fitness, and volunteering.</p>
        </section>

        <section id="projects" class="section" data-aos="fade-up">
            <h2>Projects</h2>
            <p><strong>Puzzle Solver</strong> | C++, Algorithms: Built a robust command-line puzzle solver capable of processing complex maze-like maps with large state spaces. Implemented both depth-first search and breadth-first search algorithms with optimized traversal logic.</p>

            <p><strong>Star Wars: Episode X - A New Heap</strong> | C++, Data Structures: Designed and implemented three optimized priority queue variants (sorted array, binary heap, pairing heap) using C++ templates and polymorphic interfaces. Achieved significant performance improvements through algorithmic optimization.</p>

            <p><strong>Bank Transaction Simulator</strong> | C++, Data Structures: Developed a high-throughput banking simulation system processing millions of concurrent transactions. Implemented custom hash table data structures for optimal performance and built comprehensive CLI parsing system.</p>

            <p><strong>Interactive Population Forecast Dashboard</strong> | R, Shiny, Data Visualization: Created a full-stack web application analyzing global population trends using UN demographic datasets. Implemented dynamic filtering, real-time statistical computations, and responsive data visualizations.
                <a href="https://github.com/KatherynZheng/datasci306-final_project" target="_blank" style="color: var(--primary);">View Repository</a></p>

            <div class="tech-tags">
                <span class="tech-tag">C++</span>
                <span class="tech-tag">Python</span>
                <span class="tech-tag">R</span>
                <span class="tech-tag">SQL</span>
                <span class="tech-tag">Algorithms</span>
                <span class="tech-tag">Data Structures</span>
                <span class="tech-tag">Shiny</span>
                <span class="tech-tag">Data Visualization</span>
            </div>
        </section>

        <section id="experience" class="section" data-aos="fade-up">
            <h2>Experience</h2>

            <p><strong>Research Team Leader</strong>, Exploring Jiangdong's Tourism Potential for Poverty Alleviation Through Data-Driven Analysis (November 2023 - May 2024): Led a multidisciplinary research team conducting comprehensive data collection and statistical analysis. Designed and executed large-scale survey methodologies, processed and analyzed survey data using statistical software, and developed data-driven recommendations for sustainable development initiatives.</p>
        </section>

        <section id="gallery" class="section" data-aos="fade-up">
            <h2>Gallery</h2>
            <p>A collection of my favorite photographs and moments.</p>
            <div class="gallery-grid">
                <img src="profile3.jpeg" alt="Gallery Photo 1" class="gallery-item">
                <img src="japan1.jpeg" alt="Gallery Photo 2" class="gallery-item">
                <img src="japan2.jpeg" alt="Gallery Photo 3" class="gallery-item">
                <img src="nepal1.jpeg" alt="Gallery Photo 4" class="gallery-item">
                <img src="uk1.jpeg" alt="Gallery Photo 5" class="gallery-item">
                <img src="shenzhen1.jpeg" alt="Gallery Photo 6" class="gallery-item">
            </div>
        </section>

        <section id="news" class="section" data-aos="fade-up">
            <h2>News</h2>
            <ul>
                <li>Dec 2026 – Expected graduation from University of Michigan with B.S. in Data Science 🎓</li>
                <li>May 2024 – Completed research project on tourism potential for poverty alleviation in Jiangdong</li>
                <li>Aug 2023 – Completed finance internship at Shenzhen Hengding Architectural Decoration Design Engineering Co.</li>
            </ul>
        </section>

        <section id="contact" class="section" data-aos="fade-up">
            <h2>Contact</h2>
            <p>Email: <a href="mailto:yutonglvv@gmail.com">yutonglvv@gmail.com</a></p>
            <p>Email: <a href="mailto:yutonglv@umich.edu">yutonglv@umich.edu</a></p>
            <p>GitHub: <a href="https://github.com/lytreallynb">https://github.com/lytreallynb</a></p>
            <p>Languages: Mandarin Chinese, Cantonese, English (TOEFL: 111)</p>
        </section>
    </main>
</div>

<!-- AI Chatbot -->
<button class="chat-toggle" onclick="toggleChat()">
    🐈
    <div style="position: absolute; bottom: -8px; right: -8px; background: var(--highlight); color: white; border-radius: 50%; width: 24px; height: 24px; font-size: 12px; display: flex; align-items: center; justify-content: center; font-weight: bold;">AI</div>
</button>

<div class="chat-container" id="chatContainer">
    <div class="chat-header">
        <h3>💬 Chat with Yutong's AI</h3>
        <p>Ask me anything about Yutong!</p>
        <button class="chat-close" onclick="toggleChat()">×</button>
    </div>

    <div class="chat-messages" id="chatMessages">
        <div class="message bot">
            <div class="message-content">
                Hi! I'm Yutong's AI assistant. I can help answer questions about his projects, experience, and background. What would you like to know? 😊
            </div>
        </div>
    </div>

    <div class="typing-indicator" id="typingIndicator">
        AI is thinking...
    </div>

    <div class="chat-input">
        <input type="text" id="messageInput" placeholder="Ask me anything..." onkeypress="handleKeyPress(event)">
        <button id="sendButton" onclick="sendMessage()">Send</button>
    </div>
</div>

<footer>
    &copy; 2025 Yutong Lyu. Built with GitHub Pages and AI assistance 🐈
</footer>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    AOS.init({ duration: 800, once: true });

    // 配置：你的Vercel API地址
    const API_BASE_URL = 'https://profolio-wine.vercel.app';

    // Chatbot functionality - 使用外部API
    function toggleChat() {
        console.log('toggleChat called');
        const chatContainer = document.getElementById('chatContainer');
        chatContainer.classList.toggle('active');

        if (chatContainer.classList.contains('active')) {
            document.getElementById('messageInput').focus();
            console.log('Chat opened');
        } else {
            console.log('Chat closed');
        }
    }

    function handleKeyPress(event) {
        if (event.key === 'Enter') {
            sendMessage();
        }
    }

    async function sendMessage() {
        const messageInput = document.getElementById('messageInput');
        const message = messageInput.value.trim();

        if (!message) return;

        // Add user message
        addMessage(message, 'user');
        messageInput.value = '';

        // Show typing indicator
        const typingIndicator = document.getElementById('typingIndicator');
        const sendButton = document.getElementById('sendButton');

        typingIndicator.classList.add('active');
        sendButton.disabled = true;

        try {
            console.log('Calling external API with message:', message);

            // 调用Vercel部署的API
            const response = await fetch(`${API_BASE_URL}/api/chat`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    message: message,
                    context: "You are Yutong Lyu's AI assistant. Yutong is an undergraduate Data Science student at University of Michigan, expected graduation Dec 2026). He previously studied Finance Engineering at Guangdong University of Finance & Economics in China. He's skilled in C++, Python, R, and SQL, with experience in algorithms, data structures, and data visualization. His notable projects include a Puzzle Solver, Star Wars Priority Queue system, Bank Transaction Simulator, and Interactive Population Forecast Dashboard. He has professional experience as a Finance Intern at Shenzhen Hengding Architectural Decoration Design Engineering Co. and led research on tourism potential for poverty alleviation. His interests include photography, music, badminton, fitness, and volunteering. He speaks Mandarin Chinese, Cantonese, and English (TOEFL: 111). Answer questions about his background, projects, and experience in a friendly and informative way."
                })
            });

            console.log('API response status:', response.status);

            if (!response.ok) {
                throw new Error(`API responded with status: ${response.status}`);
            }

            const data = await response.json();
            console.log('API response data:', data);

            if (data.success) {
                addMessage(data.response, 'bot');
            } else {
                addMessage(data.error || "Sorry, I'm having trouble right now. Please try again later!", 'bot');
            }
        } catch (error) {
            console.error('API Error:', error);

            // 如果外部API失败，使用备用回复
            const botResponse = generateFallbackResponse(message);
            addMessage(`${botResponse}\n\n(Note: AI service temporarily unavailable, showing fallback response)`, 'bot');
        }

        typingIndicator.classList.remove('active');
        sendButton.disabled = false;
    }

    function addMessage(text, sender) {
        const chatMessages = document.getElementById('chatMessages');
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${sender}`;

        const contentDiv = document.createElement('div');
        contentDiv.className = 'message-content';
        contentDiv.textContent = text;

        messageDiv.appendChild(contentDiv);
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function generateFallbackResponse(message) {
        const lowerMessage = message.toLowerCase();

        if (lowerMessage.includes('project') || lowerMessage.includes('puzzle') || lowerMessage.includes('bank') || lowerMessage.includes('population')) {
            return "Yutong has worked on several impressive technical projects! Her Puzzle Solver uses DFS and BFS algorithms for complex maze navigation, the Star Wars Priority Queue project implements three different heap variants in C++, the Bank Transaction Simulator handles millions of concurrent transactions with custom hash tables, and her Interactive Population Forecast Dashboard analyzes global demographic trends using R and Shiny. Check out this repository at github.com/KatherynZheng/datasci306-final_project! 🚀";
        }

        if (lowerMessage.includes('experience') || lowerMessage.includes('work') || lowerMessage.includes('intern') || lowerMessage.includes('research')) {
            return "Yutong has solid professional experience! She worked as a Finance Intern at Shenzhen Hengding Architectural Decoration Design Engineering Co. where she automated financial data reconciliation using Excel VBA. She also led research on tourism potential for poverty alleviation in Jiangdong, conducting comprehensive data analysis and developing sustainable development recommendations. 💼";
        }

        if (lowerMessage.includes('education') || lowerMessage.includes('school') || lowerMessage.includes('university') || lowerMessage.includes('gpa')) {
            return "Yutong is currently pursuing her B.S. in Data Science at the University of Michigan, expected to graduate in December 2026.  Her coursework includes algorithms, data structures, machine learning, statistics, and programming! 🎓";
        }

        if (lowerMessage.includes('contact') || lowerMessage.includes('email') || lowerMessage.includes('phone') || lowerMessage.includes('reach')) {
            return "You can reach Yutong at yutonglvv@gmail.com or yutonglv@umich.edu. You can also check out her GitHub at https://github.com/lytreallynb! 📧";
        }

        if (lowerMessage.includes('skill') || lowerMessage.includes('programming') || lowerMessage.includes('language') || lowerMessage.includes('technical')) {
            return "Yutong is skilled in C++, Python, R, and SQL for building efficient data-driven systems. She also has experience with MATLAB, STATA, Git, and various data analysis tools. She's fluent in Mandarin Chinese, Cantonese, and English (TOEFL: 111)! 💻";
        }

        if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('你好')) {
            return "Hello! Nice to meet you! I'm here to help you learn more about Yutong. What would you like to know about his projects, experience, or education? 👋";
        }

        if (lowerMessage.includes('hobby') || lowerMessage.includes('interest') || lowerMessage.includes('hobby')) {
            return "Yutong has diverse interests! She enjoys photography, music, badminton, fitness, and volunteering. She's also passionate about machine learning and natural language processing. You can see some of her favorite photos in the gallery section! 📸";
        }

        return "That's a great question! While I don't have specific information about that, I'd recommend reaching out to Yutong directly at yutonglvv@gmail.com. She'd be happy to chat with you! 😊";
    }

    // 确保页面加载完成后聊天按钮可见
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Page loaded, chatbot ready');
        console.log('API Base URL:', API_BASE_URL);
        const chatToggle = document.querySelector('.chat-toggle');
        if (chatToggle) {
            console.log('Chat toggle button found');
        } else {
            console.log('Chat toggle button NOT found');
        }
    });
</script>
</body>
</html>